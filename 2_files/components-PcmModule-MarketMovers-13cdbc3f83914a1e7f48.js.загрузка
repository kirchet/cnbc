(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[86],{1119:function(e,t,a){e.exports={electricblue:"#1ff1c8",orange:"#f87121",container:"MarketTop-container",topTable:"MarketTop-topTable",name:"MarketTop-name",barContainer:"MarketTop-barContainer",title:"MarketTop-title",fullWidthContainer:"MarketTop-fullWidthContainer",bar:"MarketTop-bar",gainBar:"MarketTop-gainBar MarketTop-bar",declineBar:"MarketTop-declineBar MarketTop-bar",quoteChange:"MarketTop-quoteChange",quoteGain:"MarketTop-quoteGain MarketTop-quoteChange",quoteDecline:"MarketTop-quoteDecline MarketTop-quoteChange",symbol:"MarketTop-symbol",value:"MarketTop-value"}},1120:function(e,t,a){e.exports={electricblue:"#1ff1c8",orange:"#f87121",container:"MarketMovers-container",fullWidthContainer:"MarketMovers-fullWidthContainer MarketMovers-container",title:"MarketMovers-title",marketTopContainer:"MarketMovers-marketTopContainer",fullWidthMarketTopContainer:"MarketMovers-fullWidthMarketTopContainer",marketTopContainerStacked:"MarketMovers-marketTopContainerStacked",titleContainer:"MarketMovers-titleContainer",loadingContainer:"MarketMovers-loadingContainer"}},866:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return o}));var r=function(e){return""!==e&&("number"==typeof e||"string"==typeof e&&function(e){return"%"===e.charAt(e.length-1)?!isNaN(e.slice(0,e.length-1)):!isNaN(e)}(e))},n=function(e,t){var a=Math.pow(10,t);return Math.round(parseFloat(e)*a)/a},o=function(e){var t=e.toString(),a=parseFloat(t);if(t.length>8&&a<99999999){var r=t.split(".");a=n(a,8-r[0].length)}return a.toLocaleString()}},943:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(1),i=a.n(o),s=a(35),l=a(944),c=a.n(l),u={options:i.a.arrayOf(i.a.string.isRequired).isRequired,value:i.a.string.isRequired,onChange:i.a.func.isRequired,marketLabels:i.a.array.isRequired,isFullWidth:i.a.bool,homePagePlusMode:i.a.bool},p=function(e){var t=e.value,a=e.onChange,r=e.options,o=e.marketLabels,i=e.isFullWidth,l=e.homePagePlusMode;return n.a.createElement("div",{className:Object(s.a)(c.a.moverContainer,{keyValuePairs:[[c.a.moverContainerFullWidth,i],[c.a.moverPlusContainer,l]]})},r.map((function(e,r){return n.a.createElement("button",{key:e,onClick:function(){return a(e)},className:t===e?c.a.activeMarket:c.a.marketOption},o[r])})))};p.propTypes=u,p.defaultProps={isFullWidth:!1,homePagePlusMode:!1},t.a=p},944:function(e,t,a){e.exports={electricblue:"#1ff1c8",orange:"#f87121",moverContainer:"MarketMoversMenu-moverContainer",moverContainerFullWidth:"MarketMoversMenu-moverContainerFullWidth MarketMoversMenu-moverContainer",moverPlusContainer:"MarketMoversMenu-moverPlusContainer MarketMoversMenu-moverContainer",marketOption:"MarketMoversMenu-marketOption",activeMarket:"MarketMoversMenu-activeMarket MarketMoversMenu-marketOption"}},980:function(e,t,a){"use strict";a.r(t),a.d(t,"MarketMovers",(function(){return G}));var r=a(36),n=a.n(r),o=a(37),i=a.n(o),s=a(123),l=a.n(s),c=a(68),u=a.n(c),p=a(69),h=a.n(p),m=a(48),d=a.n(m),k=a(4),M=a.n(k),f=a(0),g=a.n(f),b=a(1),v=a.n(b),y=a(53),T=a(64),C=a(264),E=a.n(C),W=a(46),D=a(263),N=a(870),F={top:{marketTopFullWidth:!0,showBottom:!1,showTop:!0},bottom:{marketTopFullWidth:!0,showBottom:!0,showTop:!1},both:{marketTopFullWidth:!1,showBottom:!0,showTop:!0}},P={marketTopFullWidth:!0,showBottom:!0,showTop:!0},w=function(e,t){if(!e)return P;var a=e.toLowerCase(),r=F[a]||P;return t&&(r=Object.assign(r,{marketTopFullWidth:!0})),r},q=a(943),S=a(27),x=a.n(S),O=a(866),R=a(1119),_=a.n(R),B=function(e){var t=e.type,a=e.data,r=e.isFullWidth;if(!a||!Array.isArray(a))return g.a.createElement(D.a,{data:{error:"MarketTop data is null or is not an array"},errorSource:"MarketMovers",errorProps:e});var n=Math.max.apply(Math,x()(a.map((function(t){return t&&t.symbolData?Math.abs(t.symbolData.changePct):g.a.createElement(D.a,{data:{error:"MarketTop data is null or is not an array"},errorSource:"MarketMovers",errorProps:e})})))),o=a.map((function(e,t){var a=e.symbolData.changePct>=0,o=Math.abs(e.symbolData.changePct)/n;return g.a.createElement("tr",{key:e.cnbcSymbol+t},g.a.createElement("td",{className:_.a.symbol},g.a.createElement(W.b,{to:"/quotes/".concat(e.cnbcSymbol)},e.cnbcSymbol," ")),g.a.createElement("td",{className:_.a.name},g.a.createElement("div",null,g.a.createElement(W.b,{to:"/quotes/".concat(e.cnbcSymbol),style:{color:"#747474"}},e.symbolDesc))),r&&g.a.createElement("td",{className:_.a.value},Object(O.a)(e.symbolData.lastPrice)),g.a.createElement("td",{className:a?_.a.quoteGain:_.a.quoteDecline},Object(O.c)(Math.abs(e.symbolData.changePct),3),"%"),g.a.createElement("td",{className:_.a.barContainer},g.a.createElement("div",{className:a?_.a.gainBar:_.a.declineBar,style:{width:"".concat(100*o,"%")}})))}));return g.a.createElement("section",{className:r?_.a.fullWidthContainer:_.a.container},g.a.createElement("h4",{className:_.a.title},t),g.a.createElement("table",{className:_.a.topTable},g.a.createElement("tbody",null,o)))};B.defaultProps={isFullWidth:!1},B.propTypes={data:v.a.array.isRequired,type:v.a.string.isRequired,isFullWidth:v.a.bool};var j=B,A=a(1120),L=a.n(A);function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=d()(e);if(t){var n=d()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return h()(this,a)}}var G=function(e){u()(a,e);var t=U(a);function a(e){var r;return n()(this,a),r=t.call(this,e),M()(l()(r),"handleChange",(function(e){clearTimeout(r.timeout),r.props.dispatch(Object(T.e)(e,r.getMarketCount())),setTimeout((function(){return r.setState({selectedExchangeName:e})}),100)})),M()(l()(r),"startPolling",(function(){var e=r.state.selectedExchangeName,t=r.props,a=t.dispatch,n=t.pollRate;r.timeout=setInterval((function(){a(Object(T.e)(e,r.getMarketCount()))}),n)})),r.state={selectedExchangeName:"SP500",allExchanges:["SP500","NASDAQ100","DOW30","EUR","ASIA","COVID19","KNEX"],prefetchingExchange:"",prefetchedExchanges:1},r}return i()(a,[{key:"componentDidMount",value:function(){var e=this.props.data;if(e){var t=((e.widget||{}).widgetParams||{}).count;this.props.dispatch(Object(T.f)(this.state.selectedExchangeName)),this.props.dispatch(Object(T.e)(this.state.selectedExchangeName,t))}}},{key:"componentDidUpdate",value:function(e,t){t.selectedExchangeName!==this.state.selectedExchangeName&&this.props.dispatch(Object(T.f)(this.state.selectedExchangeName)),this.props.marketData!==e.marketData&&(clearTimeout(this.timeout),this.props.isFetching||this.startPolling())}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"getMarketCount",value:function(){this.props.dispatch(Object(T.f)(this.state.selectedExchangeName));var e=this.props.data;if(!e)return 0;var t=((e.widget||{}).widgetParams||{}).count;return void 0===t?0:t}},{key:"render",value:function(){var e,t=this.props.data;if(!(t&&t.widget&&t.widget.widgetParams&&this.props.marketData))return g.a.createElement(D.a,{data:{error:"WebService query came back as null"},errorSource:"WebService",errorProps:this.props});var a=t.widget.widgetParams,r=a.top_header_label,n=a.bottom_header_label,o=a.widgethref,i=a.widgetlabel,s=a.exchange_name,l=a.exchange_symbol,c=a.rank_order,u=w(c,this.props.stackTables),p=u.marketTopFullWidth,h=u.showBottom,m=u.showTop,d=!this.props.marketData||!this.props.marketData.gainers||!this.props.marketData.decliners||0===this.props.marketData.gainers.length||0===this.props.marketData.decliners.length;return g.a.createElement("section",{className:this.props.isFullWidth?L.a.fullWidthContainer:L.a.container},g.a.createElement("section",{className:L.a.titleContainer},g.a.createElement("h3",{className:L.a.title},g.a.createElement(W.b,{to:o},i)),g.a.createElement(q.a,{options:(l||"").split(","),value:this.state.selectedExchangeName,onChange:this.handleChange,marketLabels:(s||"").split(","),isFullWidth:this.props.isFullWidth})),g.a.createElement("section",{className:E()((e={},M()(e,L.a.fullWidthMarketTopContainer,this.props.isFullWidth),M()(e,L.a.marketTopContainer,!this.props.isFullWidth),M()(e,L.a.marketTopContainerStacked,this.props.stackTables),e))},d&&g.a.createElement("div",{className:L.a.loadingContainer},g.a.createElement(N.a,{showSpinner:!0})),!d&&g.a.createElement(g.a.Fragment,null,m&&g.a.createElement(j,{key:"top",type:r,data:this.props.marketData.gainers,isFullWidth:p}),h&&g.a.createElement(j,{key:"decline",type:n,data:this.props.marketData.decliners,isFullWidth:p}))))}}]),a}(f.Component);G.defaultProps={isFullWidth:!1,pollRate:1e4,stackTables:!1},G.propTypes={marketData:v.a.object.isRequired,isFetching:v.a.bool.isRequired,dispatch:v.a.func.isRequired,pollRate:v.a.number.isRequired,isFullWidth:v.a.bool,data:v.a.object.isRequired,stackTables:v.a.bool};t.default=Object(y.b)((function(e){var t=e.dataByMarketMover,a=t.exchangeSymbol,r=t[a]||{isFetching:!0,data:{gainers:[],decliners:[]}},n=r.isFetching;return{exchangeSymbol:a,marketData:r.data,isFetching:n}}))(G)}}]);
//# sourceMappingURL=../../source-maps/components-PcmModule-MarketMovers-13cdbc3f83914a1e7f48.js.map