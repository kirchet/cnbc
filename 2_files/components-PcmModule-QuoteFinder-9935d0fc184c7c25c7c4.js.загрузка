(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[24],{1020:function(e,t,n){"use strict";n.r(t);var a=n(36),r=n.n(a),c=n(37),o=n.n(c),s=n(123),u=n.n(s),l=n(68),i=n.n(l),m=n(69),h=n.n(m),f=n(48),d=n.n(f),p=n(4),S=n.n(p),y=n(0),b=n.n(y),g=n(1),v=n.n(g),R=n(35),E=n(41),O=n(853),Q=n(870),k=n(2),T=n.n(k),N=n(8),j=n.n(N),q=n(9),C=n.n(q),D=n(18),A=n.n(D),F=n(11),w=n(53),P=n(107),I=n(866),_=n(46),L=n(1783),U=n.n(L);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d()(e);if(t){var r=d()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return h()(this,n)}}var B=function(e){i()(n,e);var t=x(n);function n(){var e;r()(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return e=t.call.apply(t,[this].concat(c)),S()(u()(e),"startPolling",(function(){var t=e.props,n=t.dispatch,a=t.symbol;e.timeout=setTimeout((function(){n(Object(P.g)(a)),n(Object(P.f)(a,"quick",!1))}),e.props.pollRate)})),e}return o()(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.symbol;t(Object(P.f)(n,"quick",!1))}},{key:"componentWillReceiveProps",value:function(e){this.props.marketData!==e.marketData&&(clearTimeout(this.timeout),e.isFetching||this.startPolling())}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var e,t=this.props,n=t.marketData,a=t.symbol,r=t.name,c=t.isSearchResult,o=t.link,s=t.onSelect,u=Array.isArray(n)?n[0]:n,l=Object(O.e)(u.last),i=Object(O.e)(u.change),m=Object(O.e)(u.change_pct),h=b.a.createElement("div",{className:U.a.rightSide},0===i&&0===m?b.a.createElement("div",{className:U.a.unchanged},"UNCH"):b.a.createElement("div",{className:U.a.data},b.a.createElement("div",{className:U.a.price},Object(I.c)(l,2)),b.a.createElement("div",{className:i<0?U.a.negValue:U.a.value},i>0&&"+",Object(I.c)(i,2)," (".concat(Object(I.c)(m,2),"%)")))),f=Object(R.a)((e={},S()(e,U.a.leftSide,!0),S()(e,U.a.leftSideNotSearchResult,!c),e));return b.a.createElement("div",{className:c?U.a.resultContainer:U.a.container},b.a.createElement("div",{className:f},b.a.createElement(_.b,{to:o,onClick:function(){s({symbol:a})}},b.a.createElement("div",{className:U.a.symbol},a),r&&b.a.createElement("div",{className:U.a.name},r))),u&&u.change&&u.change_pct&&h)}}]),n}(y.Component);B.defaultProps={pollRate:1e4,name:null,isSearchResult:!1,marketData:{},isFetching:!1,link:"",onSelect:function(){}},B.propTypes={symbol:v.a.string.isRequired,link:v.a.string,name:v.a.string,marketData:v.a.object,isFetching:v.a.bool,dispatch:v.a.func.isRequired,pollRate:v.a.number,isSearchResult:v.a.bool,onSelect:v.a.func};var M=Object(w.b)((function(e,t){var n=e.dataByQuote[t.symbol]||{isFetching:!0,marketData:{}},a=n.isFetching;return{marketData:n.marketData,isFetching:a}}))(B),K=n(1784),H=n.n(K),V=F.a.getProperties().SYMLOOKUP_URI||"https://symlookup.cnbc.com/symlookup.do",W=function(e){var t=e.searchTerm,n=e.handleSearch,a=e.propFetch,r=e.onSelectQuote,c=e.template,o=e.module,s=e.onResultsReturned,u=Object(y.useState)({fetchedSearchTerm:"",matches:[]}),l=C()(u,2),i=l[0],m=l[1],h=function(){var e=j()(T.a.mark((function e(){var n,r,c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a("".concat(V,"?output=json&prefix=").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:(r=e.sent).length>1&&(c=r.slice(1).map((function(e){return{symbol:e.symbolName,name:e.companyName}})),m({fetchedSearchTerm:t,matches:c}),s&&s(c));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(y.useEffect)((function(){i.fetchedSearchTerm!==t&&h()}));var f="".concat(Object(O.f)(c),"-").concat(Object(O.f)(o),"-autoSuggestList");return b.a.createElement("div",{className:H.a.container,id:f},i.matches.slice(0,3).map((function(e){return b.a.createElement(M,{key:e.symbol,symbol:e.symbol,name:e.name,link:"/quotes/".concat(e.symbol,"?qfsearchterm=").concat(t),isSearchResult:!0,onSelect:r})})),b.a.createElement("button",{className:H.a.viewResults,onClick:n},"VIEW QUOTE RESULTS FOR ",'"'.concat(t.toUpperCase(),'"')," ",b.a.createElement("span",{className:"icon-short-arrow-right"})))};W.defaultProps={propFetch:A.a,onSelectQuote:function(){},template:"",module:"",onResultsReturned:null},W.propTypes={propFetch:v.a.func.isRequired,searchTerm:v.a.string.isRequired,handleSearch:v.a.func.isRequired,onSelectQuote:v.a.func,template:v.a.string,module:v.a.string,onResultsReturned:v.a.func};var $=W,Y=n(1785),z=n.n(Y),G=function(e){var t=e.symbols,n=e.title,a=e.template,r=e.module,c=e.searchTerm,o=Object(R.a)(z.a.container),s="".concat(Object(O.f)(a),"-").concat(Object(O.f)(r),"-").concat(Object(O.f)(n));return b.a.createElement("div",{className:o,id:s},b.a.createElement("h3",{className:z.a.title},n),t.map((function(e){return b.a.createElement(M,{link:"/quotes/".concat(e,"?qfsearchterm=").concat(c),key:e,symbol:e})})))};G.defaultProps={template:"",module:"",searchTerm:""},G.propTypes={symbols:v.a.array.isRequired,title:v.a.string.isRequired,template:v.a.string,module:v.a.string,searchTerm:v.a.string};var J=G,X=n(220),Z=n(33),ee=n.n(Z),te=n(34);function ne(){var e=ee()(['\n  query($count: Int!) {\n    mostPopularQuotes(\n      source: parsely\n      count: $count\n      sortBy: "views"\n      startPeriod: "5m"\n      tag: "Quote Single"\n    ) {\n      assets {\n        issueId\n        issuerId\n        type\n        subType\n        name\n        exchangeName\n        symbol\n        altSymbol\n        tickerSymbol\n        url\n      }\n    }\n  }\n']);return ne=function(){return e},e}var ae=n.n(te)()(ne()),re=function(e){var t=e.data,n=t.loading,a=t.error,r=t.mostPopularQuotes,c=void 0===r?{}:r,o=e.template,s=e.module,u=e.searchTerm;if(n)return null;if(!c)return null;var l=c.assets||[];if(a||0===l.length)return null;var i=l.map((function(e){return e.symbol}));return b.a.createElement(J,{symbols:i,title:"POPULAR QUOTES",template:o,module:s,searchTerm:u})};re.defaultProps={template:"",module:"",searchTerm:""},re.propTypes={data:v.a.object.isRequired,template:v.a.string,module:v.a.string,searchTerm:v.a.string};var ce=Object(X.b)(ae,{options:function(){return{variables:{count:3}}}})(re),oe=n(66),se={getCookie:oe.c,createCookie:oe.a},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=e.getCookie("recentSearches")||"",n=t.split(",");return n.filter((function(e){return""!==e})).slice(0,4).map((function(e){return e.toUpperCase()}))},le=n(1786),ie=n.n(le);function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=d()(e);if(t){var r=d()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return h()(this,n)}}var he=function(e){i()(n,e);var t=me(n);function n(e){var a;return r()(this,n),a=t.call(this,e),S()(u()(a),"handleInputChange",(function(e){a.setState({searchTerm:e.target.value})})),S()(u()(a),"handleInputKeyDown",(function(e){"Enter"===e.key&&a.handleSearch(e)})),S()(u()(a),"handleAutoSuggestReturned",(function(e){if(e&&(!Array.isArray(e)||0!==e.length)){var t=e[0].symbol;a.setState({firstAutoSuggestSymbol:t})}})),S()(u()(a),"handleSelectQuote",(function(e){var t=e.symbol,n=a.props,r=n.addRecentSearchSymbol,c=n.getRecentSearchSymbols;r(t),a.setState({recentSearchSymbols:c()})})),S()(u()(a),"handleSearch",(function(e){e.preventDefault();var t,n=a.state,r=n.searchTerm,c=n.firstAutoSuggestSymbol;if(c)return(0,a.props.addRecentSearchSymbol)(c),t=Object(E.a)({url:"/quotes/".concat(c),params:{qfsearchterm:r}}),void(window.location=t);t=Object(E.a)({url:"/search/",params:{query:r,qfsearchterm:r}}),window.location=t})),a.state={searchTerm:"",recentSearchSymbols:null,firstAutoSuggestSymbol:null},a.handleSelectQuote=a.handleSelectQuote.bind(u()(a)),a}return o()(n,[{key:"componentDidMount",value:function(){var e=this.props.getRecentSearchSymbols;this.setState({recentSearchSymbols:e()})}},{key:"render",value:function(){var e=this.state,t=e.searchTerm,n=e.recentSearchSymbols,a=this.props,r=a.template,c=a.module,o=void 0===c?{}:c,s=a.dataAnalytics,u=a.dataTest,l="".concat(Object(O.f)(r),"-").concat(Object(O.f)(o.name||"quoteFinder"),"-form");return b.a.createElement("div",{className:Object(R.a)({keyValuePairs:[[ie.a.container,!0],[ie.a.hideOnMobile,"Home Page International"===r||"homepage"===r]]}),"data-test":u,"data-analytics":s},b.a.createElement("h2",{className:ie.a.title},"QUOTE FINDER"),b.a.createElement("div",{className:ie.a.searchContainer},b.a.createElement("form",{id:l,className:ie.a.form},b.a.createElement("input",{id:ie.a.searchInput,className:ie.a.searchInput,onChange:this.handleInputChange,type:"search",placeholder:"Search",autoComplete:"off",onKeyDown:this.handleInputKeyDown}),b.a.createElement("button",{type:"submit",className:[ie.a.submitBtn,"icon-search"].join(" "),form:ie.a.form,onClick:this.handleSearch,"data-analytic-id":"Quote Finder Search"},"Search"),t.length>1&&b.a.createElement($,{searchTerm:t,handleSearch:this.handleSearch,onSelectQuote:this.handleSelectQuote,onResultsReturned:this.handleAutoSuggestReturned,template:r,module:o.name||"quoteFinder"}))),n?b.a.createElement("div",null,n.length>0?b.a.createElement(J,{symbols:n,title:"RECENT SEARCHES",template:r,module:o.name||"quoteFinder",searchTerm:t}):b.a.createElement(ce,{template:r,module:o.name||"quoteFinder",searchTerm:t})):b.a.createElement(Q.a,{showSpinner:!0}))}}]),n}(b.a.Component);he.defaultProps={getRecentSearchSymbols:ue,addRecentSearchSymbol:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se,n=ue(t).slice(0,4).filter((function(t){return t!==e}));n.includes(e)||(n.unshift(e),t.createCookie("recentSearches",n.join(",")))},template:"",dataTest:"",dataAnalytics:""},he.propTypes={getRecentSearchSymbols:v.a.func,addRecentSearchSymbol:v.a.func,template:v.a.string,module:v.a.object.isRequired,dataAnalytics:v.a.string.isRequired,dataTest:v.a.string.isRequired};t.default=he},1783:function(e,t,n){e.exports={electricblue:"#1ff1c8",orange:"#f87121",resultContainer:"QuoteResult-resultContainer",symbol:"QuoteResult-symbol",container:"QuoteResult-container QuoteResult-resultContainer",leftSide:"QuoteResult-leftSide",leftSideNotSearchResult:"QuoteResult-leftSideNotSearchResult",rightSide:"QuoteResult-rightSide",name:"QuoteResult-name",watchlistButton:"QuoteResult-watchlistButton",unchanged:"QuoteResult-unchanged",value:"QuoteResult-value",negValue:"QuoteResult-negValue QuoteResult-value",price:"QuoteResult-price"}},1784:function(e,t,n){e.exports={electricblue:"#1ff1c8",orange:"#f87121",container:"AutoSuggestList-container",viewResults:"AutoSuggestList-viewResults"}},1785:function(e,t,n){e.exports={electricblue:"#1ff1c8",orange:"#f87121",title:"QuoteList-title"}},1786:function(e,t,n){e.exports={electricblue:"#1ff1c8",orange:"#f87121",container:"QuoteFinder-container",title:"QuoteFinder-title",form:"QuoteFinder-form",searchInput:"QuoteFinder-searchInput",submitBtn:"QuoteFinder-submitBtn",hideOnMobile:"QuoteFinder-hideOnMobile"}},866:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c}));var a=function(e){return""!==e&&("number"==typeof e||"string"==typeof e&&function(e){return"%"===e.charAt(e.length-1)?!isNaN(e.slice(0,e.length-1)):!isNaN(e)}(e))},r=function(e,t){var n=Math.pow(10,t);return Math.round(parseFloat(e)*n)/n},c=function(e){var t=e.toString(),n=parseFloat(t);if(t.length>8&&n<99999999){var a=t.split(".");n=r(n,8-a[0].length)}return n.toLocaleString()}}}]);
//# sourceMappingURL=../../source-maps/components-PcmModule-QuoteFinder-9935d0fc184c7c25c7c4.js.map