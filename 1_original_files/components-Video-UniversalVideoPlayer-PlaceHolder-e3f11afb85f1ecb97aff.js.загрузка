(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[133],{1908:function(e,t,a){"use strict";(function(e){var o=a(36),n=a.n(o),i=a(37),r=a.n(i),A=a(68),s=a.n(A),c=a(69),l=a.n(c),d=a(48),u=a.n(d),p=a(0),m=a.n(p),h=a(1),f=a.n(h),E=a(35),y=a(29),v=a(864),I=a(492),b=a(856),N=a(853),C=a(851),R=a(46),g=a(305);function P(e){var t=D();return function(){var a,o=u()(e);if(t){var n=u()(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return l()(this,a)}}function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var O=y.b,S={};S[y.a]=Object(C.a)({chunkName:"components/shared/Article/InlineVideo/styles.acorns.scss",requireAsync:function(){return a.e(212).then(a.t.bind(null,1399,7))},requireSync:function e(t){var o=this.resolve(t);return a(o)},resolve:function(){return 1399}}),S[y.b]=Object(C.a)({chunkName:"components/shared/Article/InlineVideo/styles.cnbc.scss",requireAsync:function(){return a.e(379).then(a.t.bind(null,1400,7))},requireSync:function e(t){var o=this.resolve(t);return a(o)},resolve:function(){return 1400}}),S[y.d]=Object(C.a)({chunkName:"components/shared/Article/InlineVideo/styles.makeit.scss",requireAsync:function(){return a.e(274).then(a.t.bind(null,1401,7))},requireSync:function e(t){var o=this.resolve(t);return a(o)},resolve:function(){return 1401}});var k=function(e){s()(a,e);var t=P(a);function a(e){var o;return n()(this,a),(o=t.call(this,e)).state={isHovered:!1},o}return r()(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.videoData,o=t.dataId,n=t.brand,i=t.isRelatedVideo,r=t.videoIsPlayingOrPaused,A=t.featuredMediaFlag,s=t.isFeaturedBreakerVideo,c=t.inlineVideoFooterClassName,l=t.inlineVideoTitleClassName,d=t.playButtonClassName,u=t.playButtonIconClassName,p=t.styles,h=t.showProVideoGate,f=m.a.createElement(R.b,{to:"/pro/",className:p.proSmall,dataType:"pro-button"},m.a.createElement("span",{className:"".concat(p.proIcon," icon-probug")})),y=a.duration||0,C=a.section;return m.a.createElement("div",{className:Object(E.a)({keyValuePairs:[[p.relatedVideo,i],[p.isFeaturedBreakerVideo,s]]},p.videoEmbed),id:"InlineVideo-".concat(o),"data-test":"InlineVideo",onMouseEnter:function(){return e.setState({isHovered:!0})},onMouseLeave:function(){return e.setState({isHovered:!1})}},i&&m.a.createElement("div",{className:p.relatedVideoBackgroundPattern}),m.a.createElement("div",{className:p.wrapper},m.a.createElement(I.a,null,m.a.createElement("div",{className:Object(E.a)({keyValuePairs:[[p.inlineBackgroundImageContainer,!i&&!s],[p.relatedBackgroundImageContainer,i||s]]}),alt:a.headline,style:a.thumbnail&&{backgroundImage:'url("'.concat(a.thumbnail).concat(a.thumbnail.includes("?")?"&":"?",'w=750&h=422")'),backgroundSize:"cover",width:"100%"}},h&&m.a.createElement("div",{className:g.a.desktop,style:{zIndex:100,position:"relative"}}),!h&&m.a.createElement(m.a.Fragment,null,m.a.createElement("span",{className:p.videoButton}),!r&&m.a.createElement("span",{className:p.playButton},m.a.createElement(v.a,{dataId:o,brand:n,buttonType:"play",featuedMediaFlag:A,isFeatured:!0,sizeVariationFour:!0,hoverInitiated:this.state.isHovered,playButtonClassName:d,playButtonIconClassName:u}))))),this.props.showMetadata&&m.a.createElement("div",{className:Object(E.a)({keyValuePairs:[[p.recommendedVideo,this.props.recommendedVideo]]},p.videoFooter,c)},m.a.createElement("div",{className:p.videoDurationContainer},m.a.createElement("span",{className:p.videoLabel},"VIDEO"),m.a.createElement("span",{className:p.videoDurationWithLeading0},Object(b.b)(y,!1)),m.a.createElement("span",{className:p.videoDuration},Object(b.b)(y))),m.a.createElement("div",{className:Object(E.a)({keyValuePairs:[[p.featuredMediaInlineVideo,A]]},p.title,l)},a.premium?f:null,a.shorterHeadline?a.shorterHeadline:Object(N.h)(a.title,75)),C&&m.a.createElement("div",{className:p.section},m.a.createElement(R.b,{to:C.url,brand:a.brand,assetType:C.type,sectionSubType:C.subType,native:a.native},C.headline)))))}}]),a}(m.a.Component);k.propTypes={videoData:f.a.object.isRequired,dataId:f.a.oneOfType([f.a.string,f.a.number]),brand:f.a.string,isRelatedVideo:f.a.bool,videoIsPlayingOrPaused:f.a.bool,showMetadata:f.a.bool,featuredMediaFlag:f.a.bool,isFeaturedBreakerVideo:f.a.bool,recommendedVideo:f.a.bool,inlineVideoFooterClassName:f.a.string,inlineVideoTitleClassName:f.a.string,playButtonClassName:f.a.string,playButtonIconClassName:f.a.string,showProVideoGate:f.a.bool,styles:f.a.object.isRequired},k.defaultProps={dataId:0,brand:O,isRelatedVideo:!1,videoIsPlayingOrPaused:!1,showMetadata:!0,featuredMediaFlag:!1,isFeaturedBreakerVideo:!1,recommendedVideo:!1,inlineVideoFooterClassName:"",inlineVideoTitleClassName:"",playButtonClassName:"",playButtonIconClassName:"",showProVideoGate:!1},t.a=Object(C.b)(S,k)}).call(this,"/")},1909:function(e,t,a){e.exports=a.p+"a2652519f5aef5317c2c79dfd69d122a.jpg"},1910:function(e,t,a){e.exports={electricblue:"#1ff1c8",orange:"#f87121",progress:"Timer-progress",dash:"Timer-dash",sticky:"Timer-sticky","sticky-dash":"Timer-sticky-dash",buttonWrapper:"Timer-buttonWrapper",buttonWrapperEnded:"Timer-buttonWrapperEnded Timer-buttonWrapper"}},1911:function(e,t,a){e.exports={electricblue:"#1ff1c8",orange:"#f87121",cancel:"ScaledTimer-cancel"}},1912:function(e,t,a){e.exports={electricblue:"#1ff1c8",orange:"#f87121",endCardWrapper:"Recommend-endCardWrapper",title:"Recommend-title",replay:"Recommend-replay",buttons:"Recommend-buttons",content:"Recommend-content",eyebrow:"Recommend-eyebrow",compact:"Recommend-compact",mobile:"Recommend-mobile",sticky:"Recommend-sticky",titleDark:"Recommend-titleDark Recommend-title",slideshowItem:"Recommend-slideshowItem",cancel:"Recommend-cancel"}},1913:function(e,t,a){"use strict";function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.createElement("video");return new Promise((function(a,o){t.setAttribute("webkit-playsinline",""),t.setAttribute("playsinline",""),e.body.appendChild(t),t.muted=!1,t.src="data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE=";var n=t.play();n&&"function"==typeof n.then&&"function"==typeof n.catch?n.then((function(){return a(!0)})).catch((function(){return o(!1)})):a(!0)})).catch((function(){return!1})).then((function(e){return t&&t.parentNode&&t.parentNode.removeChild(t),e}))}a.d(t,"a",(function(){return o}))},1954:function(e,t,a){"use strict";var o=a(22),n=a.n(o),i=a(36),r=a.n(i),A=a(37),s=a.n(A),c=a(123),l=a.n(c),d=a(68),u=a.n(d),p=a(69),m=a.n(p),h=a(48),f=a.n(h),E=a(4),y=a.n(E),v=a(0),I=a.n(v),b=a(1),N=a.n(b),C=a(220),R=a(53),g=a(948),P=a(30),D=a(219),O=a(859),S=a(6),k=a(1909),T=a.n(k),V="SUBMIT_REQUEST",_="RECEIVE_ERROR",M="RECEIVE_RESPONSE",w="OFFER_RECOMMENDED_VIDEO",B="PLAY_RECOMMENDED_VIDEO",W="DISMISS_RECOMMENDED_VIDEO",L="RESET_RECOMMENDATION",F="ABANDON_RECOMMENDATION",x="RELOAD_RECOMMENDATION",j={UNDEFINED:"UNDEFINED",INITIAL:"INITIAL",REQUEST_IN_PROGRESS:"REQUEST_IN_PROGRESS",REQUEST_ERROR:"REQUEST_ERROR",REQUEST_COMPLETE:"REQUEST_COMPLETE",RECOMMENDATION_OFFERED:"RECOMMENDATION_OFFERED",RECOMMENDATION_ACCEPTED:"RECOMMENDATION_ACCEPTED",RECOMMENDATION_DISMISSED:"RECOMMENDATION_DISMISSED",RECOMMENDATION_INACTIVE:"RECOMMENDATION_INACTIVE",DISPLAY_OVERRIDE:"DISPLAY_OVERRIDE"};var U=function(e,t){var a,o;if(a=t.recommendationWorkflowState,null!=e){switch(t.recommendationWorkflowState){case j.RECOMMENDATION_INACTIVE:switch(e){case x:a=j.INITIAL}break;case j.INITIAL:switch(e){case V:a=j.REQUEST_IN_PROGRESS;break;case L:a=j.INITIAL}break;case j.REQUEST_IN_PROGRESS:switch(e){case M:a=j.REQUEST_COMPLETE;break;case _:a=j.REQUEST_ERROR;break;case F:a=j.RECOMMENDATION_INACTIVE}break;case j.REQUEST_COMPLETE:switch(e){case w:a=j.RECOMMENDATION_OFFERED}break;case j.RECOMMENDATION_OFFERED:switch(e){case B:a=j.RECOMMENDATION_ACCEPTED;break;case W:a=j.RECOMMENDATION_DISMISSED;break;case F:a=j.RECOMMENDATION_INACTIVE}break;case j.RECOMMENDATION_ACCEPTED:switch(e){case L:a=j.RECOMMENDATION_INACTIVE}break;case j.RECOMMENDATION_DISMISSED:switch(e){case B:a=j.RECOMMENDATION_ACCEPTED;break;case L:case F:a=j.RECOMMENDATION_INACTIVE}}o=a}else o=t.recommendationWorkflowState;return o},H=a(1910),q=a.n(H);function Q(e){var t="".concat(Math.round(2/e.scale),"px"),a="".concat(Math.round(1/e.scale),"px"),o="0 0 ".concat(1/e.scale,"px 0px rgba(207, 216, 226, 0.4) inset, 0 0 ").concat(1/e.scale,"px 0px rgba(207, 216, 226, 0.4)");return I.a.createElement("div",{className:q.a.buttonWrapperEnded,style:{borderWidth:a,boxShadow:o}},I.a.createElement("span",{className:"icon-buffett-video"}),e.continuousPlay&&I.a.createElement("span",{className:q.a.progress},I.a.createElement("svg",{height:"".concat(100),width:"".concat(100)},I.a.createElement("circle",{cx:"".concat(50),cy:"".concat(50),r:"".concat(48),strokeWidth:"".concat(t),fill:"none",style:{animationDuration:"".concat(e.duration,"s")},onAnimationEnd:e.handleAnimationend}))))}Q.propTypes={scale:N.a.number,continuousPlay:N.a.bool,duration:N.a.number,handleAnimationend:N.a.func},Q.defaultProps={scale:1,continuousPlay:!1,duration:5,handleAnimationend:null};var G=Q,z=a(1911),Y=a.n(z);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Z(e){var t=X(X({},e.style),{},{transform:"scale(".concat(e.scale,")")});return I.a.createElement("div",{style:t},I.a.createElement(G,{handleAnimationend:e.handleAnimationend,duration:e.duration,continuousPlay:e.continuousPlay,scale:e.scale}),e.continuousPlay&&e.renderCancelButton&&I.a.createElement("div",{role:"button",className:Y.a.cancel,tabIndex:"0",onClick:e.cancelClick},"Cancel"))}Z.propTypes={scale:N.a.number,style:N.a.object,continuousPlay:N.a.bool,renderCancelButton:N.a.bool,duration:N.a.number,handleAnimationend:N.a.func,cancelClick:N.a.func},Z.defaultProps={scale:1,style:{},continuousPlay:!1,renderCancelButton:!1,duration:5,handleAnimationend:null,cancelClick:null};var $=Z,J=a(11),ee=a(33),te=a.n(ee),ae=a(34),oe=a.n(ae),ne=a(17);function ie(){var e=te()(["\n  query($id: Int!, $videoRecommendation: Boolean, $url: String){\n    video(id: $id, videoRecommendation: $videoRecommendation, url: $url) {\n      ","\n    }\n  }\n"]);return ie=function(){return e},e}var re=oe()(ie(),ne.a),Ae={componentRef:null,recommendationConfig:{provider:J.a.getProperties().VIDEO_RECOMMEDATION_ENDCARD_ENGINE,feedType:""},fetchVideoRecommendation:function(e){this.componentRef=e;var t="object"===n()(this.componentRef.recommendationConfig)&&null!=this.componentRef.recommendationConfig?this.componentRef.recommendationConfig:{};return null!=t.provider&&(this.recommendationConfig.provider=t.provider),null!=t.feedType&&(this.recommendationConfig.feedType=t.feedType),null!=this.componentRef.preFetchCallback&&this.componentRef.preFetchCallback(),null!=this.recommendationConfig&&"parsely"===this.recommendationConfig.provider?this.getParselyRecommendations(this.componentRef):null!=this.recommendationConfig&&"sailthru"===this.recommendationConfig.provider&&this.getSailthruRecommendations(this.componentRef),this.componentRef.props.setVideoEndCardState({fetchVideoRecommendation:!1}),null},getVideoDataObject:function(){return null!=this.componentRef.props.videoDataWithPosition&&null!=this.componentRef.props.videoDataWithPosition.data?this.componentRef.props.videoDataWithPosition.data:this.componentRef.props.currentVideoData},getSailthruRecommendations:function(e){var t=this;this.componentRef=e;var a=this.getVideoDataObject(),o={};Sailthru.personalize({sections:[{id:"699f26bc-15e1-11e9-871d-002590d1a41a",selector:"#spm_content",onSuccess:function(e){o=JSON.parse(e.json),t.componentRef.setState({sailthruVideoID:parseInt(o[0].sku,10)},(function(){t.onSailthruRecommendations(t.componentRef.state.sailthruVideoID)}))},context_key:a.url}]})},onSailthruRecommendations:function(e){var t=this;this.componentRef.recommendationRequest=this.componentRef.props.client.query({query:re,variables:{id:e,videoRecommendation:null,url:""},fetchPolicy:"network-only"}).then((function(e){t.componentRef.recommendationRequest=null,t.componentRef.processRecommendations(e),t.componentRef.setState({sailthruVideoID:null})})).catch((function(){t.componentRef.failedRecommendationsCallback()}))},getVilynxRecommendations:function(e){var t=this.getVideoDataObject(),a={limit:null!=e.options&&e.options.limit?e.options.limit:1,type:["video"],retrieveguid:!0};vilynxRecommendations.get(t.url,this.onVilynxRecommendations.bind(this),a)},onVilynxRecommendations:function(e){var t=this;e.length&&(this.componentRef.recommendationRequest=this.componentRef.props.client.query({query:re,variables:{id:parseInt(e[0],10),url:"",videoRecommendation:null},fetchPolicy:"network-only"}).then((function(e){t.componentRef.recommendationRequest=null,t.componentRef.processRecommendations(e)})).catch((function(){t.componentRef.failedRecommendationsCallback()})))},getParselyRecommendations:function(e){var t=this;this.componentRef=e,this.componentRef.setRecommendationWorkflowState(V);var a=this.getVideoDataObject();this.componentRef.recommendationRequest=this.componentRef.props.client.query({query:re,variables:{id:a.id,videoRecommendation:!0,url:a.url},fetchPolicy:"network-only"}).then((function(e){t.componentRef.recommendationRequest=null,t.componentRef.processRecommendations(e)})).catch((function(){t.componentRef.failedRecommendationsCallback()}))}},se=a(1912),ce=a.n(se);function le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,o=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return m()(this,a)}}var ue=function(e){u()(a,e);var t=de(a);function a(e){var o;return r()(this,a),o=t.call(this,e),y()(l()(o),"getFooter",(function(){o.footerElement||(o.footerElement=document.getElementById("GlobalFooter"))})),y()(l()(o),"upNextClick",(function(e){if(o.setRecommendationWorkflowState(B),void 0!==e?(o.props.setVideoPlayBackInitiative({playBackInitiative:"Manual"}),e.stopPropagation()):o.props.setVideoPlayBackInitiative({playBackInitiative:"Continuous"}),o.props.videoEndCardInfo&&o.props.videoEndCardInfo.upNextVideoData&&o.props.videoEndCardInfo.upNextVideoData.data){var t=o.state.upNextVideoInfo.data.video,a=o.props.placeholderId,n=o.props.inlineVideoComponent,i=Object(g.a)(a,n);o.props.setPlayerInfo({inlineVideoComponent:n});var r=i.getBoundingClientRect(),A=Math.floor(r.top||r.y||0)+window.pageYOffset,s=Math.floor(r.left||r.x||0)+window.pageXOffset,c=i.scrollWidth>r.width?i.scrollWidth:r.width+1,l=i.scrollHeight>r.height?i.scrollHeight:r.height+1;o.props.setPlaceholderState({sourcePlaceholderId:a}),o.props.getVideoDataWithPosition({sourcePlaceholderId:a,top:A,left:s,width:c,height:l,data:t}),o.setState({lastPlayedVideo:t})}})),y()(l()(o),"replayClick",(function(e){if(void 0!==e){o.props.setVideoPlayBackInitiative({playBackInitiative:"Manual"}),o.setRecommendationWorkflowState(W);var t={pev2:"Video Replay",trkNav:"video:endcard:replay:".concat(o.state.lastPlayedVideo.vcpsId)};P.a.trigger("videoReplay",t),e.stopPropagation()}var a=o.state.lastPlayedVideo;o.props.setPlaceholderState({replayVideo:!0}),o.props.getVideoDataWithPosition({data:a}),void 0!==e&&e.stopPropagation()})),y()(l()(o),"dismissRecommendation",(function(){o.setRecommendationWorkflowState(W),o.props.videoPlayerInfo.layout===S.playerLayoutStates.STICKY_END_CARD?o.setState({layout:o.layoutStates.STICKY_TO_INLINE_SLIDE_OUT}):o.props.videoPlayerInfo.layout===S.playerLayoutStates.ABOVE_FOOTER_END_CARD?o.setState({layout:o.layoutStates.ABOVE_FOOTER_TO_INLINE_SLIDE_OUT}):o.props.videoPlayerInfo.layout===S.playerLayoutStates.INLINE_END_CARD_WITH_TIMER&&o.props.setPlayerInfo({trigger:S.playerLayoutActions.DISMISS})})),y()(l()(o),"dismissRecommendationImplicit",(function(){o.setRecommendationWorkflowState(F),[S.playerLayoutStates.STICKY_END_CARD,S.playerLayoutStates.ABOVE_FOOTER_END_CARD].includes(o.props.videoPlayerInfo.layout)&&o.setState({layout:o.layoutStates.INLINE})})),y()(l()(o),"cancelClick",(function(e){if(o.isBeingDismissed=!0,o.dismissRecommendation(),void 0!==e){e.stopPropagation();var t={},a=o.props.videoDataWithPosition.data.id;t=o.layoutStates.INLINE?{pev2:"Video End Card",trkNav:"video:endcard:cancel:".concat(a)}:{pev2:"Video Docked",trkNav:"video:docked:cancel:".concat(a)},P.a.trigger("videoCancelEndCardExternal",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?le(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):le(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t))}})),y()(l()(o),"handleAnimationend",(function(){o.state.recommendationWorkflowState===j.RECOMMENDATION_OFFERED&&o.upNextClick()})),y()(l()(o),"handleTransitionComplete",(function(){o.props.setPlayerInfo({trigger:S.playerLayoutActions.DISMISS}),o.setState({layout:o.layoutStates.INLINE})})),y()(l()(o),"getTotalOffset",(function(e){for(var t=0,a=0,o=e;o;)t+=o.offsetTop,a+=o.offsetLeft,o=o.offsetParent;return{y:t,x:a}})),o.myRef=I.a.createRef(),o.layoutStates={INLINE:"INLINE",STICKY:"STICKY",STICKY_TO_INLINE_SLIDE_OUT:"STICKY_TO_INLINE_SLIDE_OUT",ABOVE_FOOTER_TO_INLINE_SLIDE_OUT:"ABOVE_FOOTER_TO_INLINE_SLIDE_OUT"},o.state={recommendationWorkflowState:j.INITIAL,lastPlayedVideo:o.props.currentVideoData,layout:o.layoutStates.INLINE,endCardDisplayed:!1,upNextVideoInfo:null,sailthruVideoID:null},o.footerElement=null,o.style=null,o.handleAnimationend=o.handleAnimationend.bind(l()(o)),o.cancelClick=o.cancelClick.bind(l()(o)),o.dismissRecommendationImplicit=o.dismissRecommendationImplicit.bind(l()(o)),o.isBeingDismissed=!1,o.recommendationConfig={},o.wasActivePlaceholder=null,o.isActivePlaceholder=null,o}return s()(a,[{key:"shouldComponentUpdate",value:function(e,t){var a=S.playerLayoutStates,o=e.videoPlayerInfo.layout||a.HIDDEN,n=!1;if(this.wasActivePlaceholder=this.props.placeholderId===this.props.videoDataWithPosition.sourcePlaceholderId,this.isActivePlaceholder=this.props.placeholderId===e.videoDataWithPosition.sourcePlaceholderId,this.wasActivePlaceholder&&(e.videoDataWithPosition.playStatus!==this.props.videoDataWithPosition.playStatus||this.props.videoDataWithPosition.playStatus===x&&this.state.recommendationWorkflowState===j.RECOMMENDATION_INACTIVE)&&this.setRecommendationWorkflowState(e.videoDataWithPosition.playStatus),this.wasActivePlaceholder&&this.props.videoDataWithPosition.playStatus===L&&[j.RECOMMENDATION_DISMISSED,j.RECOMMENDATION_ACCEPTED].includes(this.state.recommendationWorkflowState)&&this.setRecommendationWorkflowState(e.videoDataWithPosition.playStatus),this.wasActivePlaceholder){if(e.videoEndCardInfo.fetchVideoRecommendation)n=!0;else switch(t.recommendationWorkflowState){case j.INITIAL:case j.REQUEST_COMPLETE:case j.RECOMMENDATION_DISMISSED:n=!0;break;default:n=!1}this.state.recommendationWorkflowState===j.RECOMMENDATION_ACCEPTED&&t.recommendationWorkflowState===j.RECOMMENDATION_INACTIVE&&(n=!0),n=(n=(n=n||[a.INLINE_END_CARD_WITH_TIMER,a.STICKY_END_CARD,a.ABOVE_FOOTER_END_CARD].includes(o)&&[j.REQUEST_COMPLETE].includes(this.state.recommendationWorkflowState))||this.props.videoPlayerInfo.layout!==o&&o===a.STICKY_END_CARD&&this.state.recommendationWorkflowState===j.RECOMMENDATION_OFFERED)||this.props.videoPlayerInfo.layout!==o&&o===a.INLINE_END_CARD_WITH_TIMER&&this.state.recommendationWorkflowState===j.RECOMMENDATION_OFFERED,[j.REQUEST_COMPLETE,j.RECOMMENDATION_OFFERED].includes(t.recommendationWorkflowState)&&!this.state.endCardDisplayed&&this.setState({endCardDisplayed:!0})}else this.isBeingDismissed?(this.isBeingDismissed=!1,this.dismissRecommendation(),n=!0):[j.RECOMMENDATION_DISMISSED,j.RECOMMENDATION_ACCEPTED].includes(this.state.recommendationWorkflowState)?this.state.layout!==this.layoutStates.INLINE&&(this.setState({layout:this.layoutStates.INLINE}),n=!0):[j.REQUEST_IN_PROGRESS,j.REQUEST_COMPLETE,j.RECOMMENDATION_OFFERED].includes(this.state.recommendationWorkflowState)&&t.recommendationWorkflowState===j.RECOMMENDATION_INACTIVE&&(n=!0);return this.wasActivePlaceholder&&!this.isActivePlaceholder&&(n=!0),n}},{key:"componentDidMount",value:function(){this.state.recommendationWorkflowState===j.INITIAL&&this.props.videoRecommendationInfo.videoRecommendation&&Ae.fetchVideoRecommendation(this,this.getRecommendationConfig()),this.myRef.current&&this.myRef.current.addEventListener("transitionend",this.handleTransitionComplete)}},{key:"componentDidUpdate",value:function(){this.wasActivePlaceholder&&!this.isActivePlaceholder&&this.dismissRecommendationImplicit(),this.props.videoEndCardInfo.fetchVideoRecommendation&&this.state.recommendationWorkflowState===j.INITIAL&&Ae.fetchVideoRecommendation(this,this.getRecommendationConfig()),this.isActivePlaceholder&&this.state.recommendationWorkflowState===j.REQUEST_COMPLETE&&this.setRecommendationWorkflowState(w),this.getFooter()}},{key:"getRecommendationConfig",value:function(){return"object"===("undefined"==typeof CNBCVideoRecSettingsForEndCard?"undefined":n()(CNBCVideoRecSettingsForEndCard))&&(this.recommendationConfig.provider=CNBCVideoRecSettingsForEndCard.engine,this.recommendationConfig.feedType=CNBCVideoRecSettingsForEndCard.type,this.recommendationConfig.options=CNBCVideoRecSettingsForEndCard.options),this.recommendationConfig}},{key:"preFetchCallback",value:function(){this.setRecommendationWorkflowState(V)}},{key:"processRecommendations",value:function(e){this.props.setVideoEndCardState({upNextVideoData:e}),this.setState({upNextVideoInfo:e}),this.setRecommendationWorkflowState(M),this.props.setVideoRecommendationState({videoRecommendation:!1})}},{key:"failedRecommendationsCallback",value:function(){this.setRecommendationWorkflowState(_)}},{key:"setRecommendationWorkflowState",value:function(e){this.setState((function(t){return{recommendationWorkflowState:U(e,t)}}))}},{key:"render",value:function(){var e,t,a,o,n,i,r=this.state.upNextVideoInfo,A=S.playerLayoutStates,s=this.props.videoPlayerInfo.layout||A.HIDDEN,c="",l=null,d="",u="",p="",m="",h=this.props.videoDataWithPosition,f=h.data&&h.data.playerConfig&&h.data.playerConfig.stickyPlayerWidth?h.data.playerConfig.stickyPlayerWidth:300,E=.5625*f,y='url("'.concat(T.a,'")'),v=1,b=!0,N={position:"absolute",top:"50%",left:"50%"};D.a.isMobile()&&(v=.68,d=ce.a.mobile);var C=this.state.endCardDisplayed?j.DISPLAY_OVERRIDE:this.state.recommendationWorkflowState;this.state.recommendationWorkflowState===j.RECOMMENDATION_INACTIVE&&(C=j.RECOMMENDATION_INACTIVE),this.state.recommendationWorkflowState===j.RECOMMENDATION_ACCEPTED&&(C=j.RECOMMENDATION_ACCEPTED),this.state.recommendationWorkflowState===j.RECOMMENDATION_DISMISSED&&this.state.layout===this.layoutStates.INLINE&&(C=j.RECOMMENDATION_DISMISSED);var R="desktop"===O.a.deviceDetectType()&&this.state.recommendationWorkflowState!==j.RECOMMENDATION_DISMISSED;switch(s){case A.INLINE:case A.STICKY_TO_INLINE_1_STICKY_FADE_OUT:case A.STICKY:case A.INLINE_END_CARD_TIMER_DISMISSED:case A.INLINE_END_CARD_WITH_TIMER:this.style={backgroundImage:y,backgroundSize:"cover"};break;case A.STICKY_END_CARD:b=!1,c="fixed",l=0,a="".concat(40,"px"),n="".concat(40,"px"),e="".concat(f,"px"),t="".concat(E,"px"),d=ce.a.sticky,v=.52,this.state.layout===this.layoutStates.STICKY_TO_INLINE_SLIDE_OUT?(u="initial",p="translateX(-".concat(40+f,"px)"),m="all .3s ease-in",this.style={position:c,paddingBottom:l,left:a,top:o,bottom:n,width:e,height:t,backgroundImage:y,backgroundSize:"cover",transform:p,transformOrigin:u,transition:m}):this.style={position:c,paddingBottom:l,left:a,top:o,bottom:n,width:e,height:t,backgroundImage:y,backgroundSize:"cover"};break;case A.ABOVE_FOOTER_END_CARD:if(b=!1,this.getFooter(),null!=this.footerElement){c="absolute",l=0,e="".concat(f,"px"),t="".concat(E,"px"),d=ce.a.sticky,v=.52;var g=this.footerElement.getBoundingClientRect().top+window.pageYOffset,P=this.getTotalOffset(this.myRef.current);o=g-40-.5625*f-P.y,a=40-P.x,o="".concat(o,"px"),a="".concat(a,"px"),this.state.layout===this.layoutStates.ABOVE_FOOTER_TO_INLINE_SLIDE_OUT?(u="initial",p="translateX(-".concat(40+f,"px)"),m="all .3s ease-in",this.style={position:c,paddingBottom:l,left:a,top:o,bottom:n,width:e,height:t,backgroundImage:y,backgroundSize:"cover",transform:p,transformOrigin:u,transition:m}):this.style={position:c,paddingBottom:l,left:a,top:o,bottom:n,width:e,height:t,backgroundImage:y,backgroundSize:"cover"}}}switch([j.UNDEFINED,j.INITIAL,j.REQUEST_IN_PROGRESS,j.REQUEST_ERROR].includes(this.state.recommendationWorkflowState)||(i=r&&r.data&&r.data.video?r.data.video:null),C){case j.RECOMMENDATION_ACCEPTED:case j.RECOMMENDATION_INACTIVE:return I.a.createElement("div",null);case j.INITIAL:case j.REQUEST_IN_PROGRESS:return I.a.createElement("div",{className:"videoENDCARD",ref:this.myRef},I.a.createElement("div",{className:"".concat(ce.a.endCardWrapper," ").concat(d),style:this.style}));case j.DISPLAY_OVERRIDE:case j.RECOMMENDATION_OFFERED:case j.REQUEST_COMPLETE:return i?(N.top="44%",I.a.createElement("div",{className:"videoENDCARD",ref:this.myRef},I.a.createElement("div",{onClick:this.upNextClick,className:"".concat(ce.a.endCardWrapper," ").concat(d),style:this.style,role:"button",tabIndex:"0"},I.a.createElement("span",{role:"button",tabIndex:"0",onClick:this.cancelClick,className:"icon-close"}),s===A.INLINE_END_CARD_WITH_TIMER&&I.a.createElement("div",{onClick:this.replayClick,className:"".concat(ce.a.content," ").concat(ce.a.replay," ").concat(ce.a.small),role:"button",tabIndex:"0"},I.a.createElement("span",{className:"".concat(ce.a.compact," icon-replay")}),I.a.createElement("span",{className:"".concat(ce.a.eyebrow," ").concat(ce.a.compact)},"Watch Again"),I.a.createElement("div",{className:ce.a.eyebrow},"Just Watched"),I.a.createElement("div",{className:ce.a.title},this.state.lastPlayedVideo.title)),I.a.createElement($,{handleAnimationend:this.handleAnimationend,duration:i.playerConfig.endCard.timer,scale:v,style:N,continuousPlay:this.isActivePlaceholder&&R,renderCancelButton:b,cancelClick:this.cancelClick}),I.a.createElement("div",{className:ce.a.content},I.a.createElement("div",{className:ce.a.eyebrow},"Up Next"),I.a.createElement("div",{className:ce.a.title},i.title))))):I.a.createElement("div",{className:"videoENDCARD",ref:this.myRef},I.a.createElement("div",{className:"".concat(ce.a.endCardWrapper," ").concat(d),style:this.style}));case j.RECOMMENDATION_DISMISSED:return i?I.a.createElement("div",{className:"videoENDCARD",ref:this.myRef},I.a.createElement("div",{onClick:this.upNextClick,className:"".concat(ce.a.endCardWrapper," ").concat(d),style:this.style,role:"button",tabIndex:"0"},I.a.createElement("div",{className:"".concat(ce.a.content," ").concat(ce.a.replay)},I.a.createElement("div",{className:ce.a.eyebrow},"Just Watched"),I.a.createElement("div",{className:ce.a.title},this.state.lastPlayedVideo.title)),I.a.createElement("div",{onClick:this.replayClick,className:"".concat(ce.a.content," ").concat(ce.a.replay," ").concat(ce.a.small),role:"button",tabIndex:"0"},I.a.createElement("span",{className:"".concat(ce.a.compact," icon-replay")}),I.a.createElement("span",{className:"".concat(ce.a.eyebrow," ").concat(ce.a.compact)},"Watch Again"),I.a.createElement("div",{className:ce.a.eyebrow},"Just Watched"),I.a.createElement("div",{className:ce.a.title},this.state.lastPlayedVideo.title)),I.a.createElement($,{scale:v,style:N,continuousPlay:!1,renderCancelButton:!1}),I.a.createElement("div",{onClick:this.upNextClick,className:ce.a.content,role:"button",tabIndex:"0"},I.a.createElement("div",{className:ce.a.eyebrow},"Up Next"),I.a.createElement("div",{className:ce.a.title},i.title)))):I.a.createElement("div",null);default:return I.a.createElement("div",null)}}}]),a}(v.Component);ue.propTypes={currentVideoData:N.a.object,videoRecommendationInfo:N.a.object,setVideoEndCardState:N.a.func,videoEndCardInfo:N.a.object,getVideoDataWithPosition:N.a.func,setVideoRecommendationState:N.a.func,videoPlayerInfo:N.a.object,videoDataWithPosition:N.a.object,placeholderId:N.a.string,inlineVideoComponent:N.a.bool,setPlaceholderState:N.a.func,setVideoPlayBackInitiative:N.a.func,setPlayerInfo:N.a.func},ue.defaultProps={currentVideoData:null,videoRecommendationInfo:{},setVideoEndCardState:null,videoEndCardInfo:{},getVideoDataWithPosition:null,setVideoRecommendationState:null,videoPlayerInfo:{},videoDataWithPosition:{},placeholderId:"",inlineVideoComponent:!1,setPlaceholderState:null,setVideoPlayBackInitiative:function(){},setPlayerInfo:null};var pe=Object(C.c)(ue);t.a=Object(R.b)((function(e){return{videoRecommendationInfo:e.videoRecommendationInfo,videoEndCardInfo:e.videoEndCardInfo,videoPlayerInfo:e.videoPlayerInfo,videoDataWithPosition:e.videoDataWithPosition}}),S)(pe)},856:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));var o=function(e){return e<10?"0".concat(e):"".concat(e)},n=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=3600,n=60,i=e,r=Math.floor(i/a);i-=a*r;var A=Math.floor(i/n);if(i-=n*A,!t&&0===r)return"".concat(A,":").concat(o(i));if(!t&&r>0)return"".concat(r,":").concat(o(A),":").concat(o(i));var s="".concat(o(A),":").concat(o(i));return r>0&&(s="".concat(o(r),":").concat(s)),s},i=function(e){var t=e,a=Math.floor(t/3600);t-=3600*a;var o=Math.floor(t/60);return t-=60*o,a>0&&0===o&&0===t?"PT".concat(a,"H"):a>0&&o>0&&0===t?"PT".concat(a,"H").concat(o,"M"):a>0&&o>0&&t>0?"PT".concat(a,"H").concat(o,"M").concat(t,"S"):o>0&&0===t?"PT".concat(o,"M"):o>0&&t>0?"PT".concat(o,"M").concat(t,"S"):"PT".concat(t,"S")}},859:function(e,t,a){"use strict";var o={isMobile:function(){return"undefined"!=typeof navigator&&(!/ipad|silk/i.test(navigator.userAgent)&&!!/mobi|phone/i.test(navigator.userAgent))},isTablet:function(){return"undefined"!=typeof navigator&&!(this.isMobile()||!(/android|ios|ipad|silk/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))},deviceDetectType:function(){return this.isMobile()?"mobile":this.isTablet()?"tablet":"desktop"},getMobileOperatingSystem:function(){if("undefined"==typeof navigator)return null;var e=navigator.userAgent||navigator.vendor||window.opera;return/crios/i.test(e)?"iOS Chrome":/android/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":null},isBrowserSupportsHLS:function(){return"undefined"!=typeof document&&document.createElement("video").canPlayType("application/vnd.apple.mpegURL")},isChrome66:function(){if("undefined"==typeof navigator)return!1;var e=navigator.userAgent,t=e.match(/chrome/i);if(null!=t&&"chrome"===t[0].toLowerCase()){var a=t.index,o=e.substring(a+7,a+9);if(!isNaN(o)&&o>=66)return!0}return!1},isCNBCReferrerWithChrome66:function(e){return"undefined"!=typeof document&&(!this.isChrome66()||(!!e||!(document.referrer&&!document.referrer.includes("cnbc.com")||!document.referrer)))},isChrome:function(){return"undefined"!=typeof navigator&&navigator.userAgent.indexOf("Chrome")>-1},isFirefox:function(){return"undefined"!=typeof navigator&&navigator.userAgent.indexOf("Firefox")>-1},isEdge:function(){return"undefined"!=typeof navigator&&"Edge"===navigator.vendor},isSafari:function(){return"undefined"!=typeof navigator&&"Apple Computer, Inc."===navigator.vendor},isDesktopSafari:function(){return this.isSafari()&&"desktop"===this.deviceDetectType()},isTouch:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},isOpera:function(){return"undefined"!=typeof navigator&&navigator.userAgent.indexOf("OPR")>-1},isSupportedBrowser:function(){return!this.isOpera()&&(!(!this.isChrome()&&!this.isSafari())||!(!this.isFirefox()&&!this.isEdge()||this.isMobile()||this.isTablet()))}};t.a=o},860:function(e,t,a){"use strict";a.r(t),function(e){a.d(t,"toggleAriaLabel",(function(){return G})),a.d(t,"PlaceHolder",(function(){return z}));var o=a(22),n=a.n(o),i=a(36),r=a.n(i),A=a(37),s=a.n(A),c=a(123),l=a.n(c),d=a(68),u=a.n(d),p=a(69),m=a.n(p),h=a(48),f=a.n(h),E=a(4),y=a.n(E),v=a(0),I=a.n(v),b=a(59),N=a(1),C=a.n(N),R=a(53),g=a(1908),P=a(263),D=a(46),O=a(43),S=a(25),k=a(303),T=a(986),V=a(35),_=a(29),M=a(851),w=a(30),B=a(948),W=a(305),L=a(6),F=a(1954),x=a(1913);function j(e){var t=U();return function(){var a,o=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return m()(this,a)}}function U(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var H=Object(b.a)({resolved:{},chunkName:function(){return"components-shared-Card"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:function(){return Promise.all([a.e(13),a.e(26)]).then(a.bind(null,887))},requireAsync:function(e){var t=this,a=this.resolve(e);return this.resolved[a]=!1,this.importAsync(e).then((function(e){return t.resolved[a]=!0,e}))},requireSync:function e(t){var o=this.resolve(t);return a(o)},resolve:function e(){return 887}}),q={};q[_.b]=Object(M.a)({chunkName:"components/Video/UniversalVideoPlayer/PlaceHolder/styles.cnbc.scss",requireAsync:function(){return a.e(371).then(a.t.bind(null,1397,7))},requireSync:function e(t){var o=this.resolve(t);return a(o)},resolve:function(){return 1397}}),q[_.d]=Object(M.a)({chunkName:"components/Video/UniversalVideoPlayer/PlaceHolder/styles.makeit.scss",requireAsync:function(){return a.e(268).then(a.t.bind(null,1398,7))},requireSync:function e(t){var o=this.resolve(t);return a(o)},resolve:function(){return 1398}});var Q="VideoPlaceHolder",G=function(e){return e?"Pause":"Play"},z=function(e){u()(a,e);var t=j(a);function a(e){var o;return r()(this,a),o=t.call(this,e),y()(l()(o),"removePlayerFromPage",(function(){o.props.getVideoIsPreloader({isPreloader:!0,firstVideoClickedOnPage:!0}),o.props.getVideoDataWithPosition({top:"-3000px",left:"-3000px",data:{},videoAttributes:{}}),o.props.setPlayerInfo({layout:"HIDDEN",playback:!1,adPlayback:!1}),"undefined"!=typeof window&&"function"==typeof window.jwplayer&&"object"===n()(window.jwplayer())&&"function"==typeof window.jwplayer().remove&&(jwplayer().stop(),jwplayer().remove())})),y()(l()(o),"isAutoPlay",(function(e){return e.attributes&&e.attributes.autoPlay||e.videoAttributes&&e.videoAttributes.autoPlay?Object(x.a)():Promise.resolve(!1)})),y()(l()(o),"tryAutoPlay",(function(){o.isDocumentElementExists("Placeholder-".concat(o.props.dataId))&&o.props.placeholderInfo.placeholderState!==L.placeholderStates.END_CARD&&o.isAutoPlay(o.props).then((function(e){e&&o.startPlayback(e,!1)}))})),y()(l()(o),"isDocumentElementExists",(function(e){return e&&document&&document.getElementById(e)})),y()(l()(o),"startPlayback",(function(e,t){var a=o.props.inlineVideoComponent,n=o.props.videoData,i=o.props.brand,r=o.props.attributes,A="Placeholder-".concat(o.props.dataId),s=Object(B.a)(A,a);o.props.setPlayerInfo({inlineVideoComponent:a});var c=s.getBoundingClientRect(),l=Math.floor(c.top||c.y||0)+window.pageYOffset,d=Math.floor(c.left||c.x||0)+window.pageXOffset,u=s.scrollWidth>c.width?s.scrollWidth:c.width+1,p=s.scrollHeight>c.height?s.scrollHeight:c.height+1;if(o.state.endCardState&&o.props.placeholderInfo.id===n.id){var m={pev2:"Video Replay",trkNav:"video:endcard:replay:".concat(n.vcpsId)};w.a.trigger("videoReplay",m),o.props.setEventsInfo({seekedByUser:!1,seekedByUserPause:!1})}o.setState({endCardState:!1}),o.props.setVideoRecommendationState({videoRecommendation:!1});var h="Placeholder-".concat(o.props.dataId),f=window?window.innerWidth:null,E=window?window.innerHeight:null;if(o.props.setPlaceholderState({sourcePlaceholderId:h,inlineVideoComponent:a}),o.props.getVideoDataWithPosition({data:n,videoAttributes:r,top:l,left:d,width:u,height:p,sourcePlaceholderId:h,viewportWidth:f,viewportHeight:E,brand:i}),o.props.getVideoIsPreloader({isPreloader:!1,autoPlay:e}),t)o.props.setVideoPlayBackInitiative({playBackInitiative:"Manual"});else{var y=o.props.page&&o.props.page.page&&"cnbcvideo"===o.props.page.page.type&&document.referrer&&document.referrer.includes("cnbc.com")?"Manual":"Auto",v=o.props.placeholderInfo.playbackInitiative||y;o.props.setVideoPlayBackInitiative({playBackInitiative:v})}})),y()(l()(o),"handleClick",(function(){o.props.setPlaceholderState({replayVideo:!0}),o.startPlayback(!1,!0)})),o.state={endCardState:!1},o.endCardHasBeenDisplayed=!1,o}return s()(a,[{key:"componentWillMount",value:function(){var e=this.context.isMobileWebview;this.isMobileWebview=e,this.runOnce=!0}},{key:"componentWillUnmount",value:function(){this.props.getVideoIsPreloader({firstVideoClickedOnPage:!0}),this.removePlayerFromPage()}},{key:"shouldComponentUpdate",value:function(e){return!e.placeholderInfo.watched||this.isActivePlaceholder(e)}},{key:"isActivePlaceholder",value:function(e){return e.placeholderInfo.sourcePlaceholderId==="Placeholder-".concat(this.props.dataId)}},{key:"componentDidMount",value:function(){this.props.addVideoNIDs(this.props.videoData.id),this.tryAutoPlay()}},{key:"componentDidUpdate",value:function(e){this.props.videoData.id!==e.videoData.id&&this.tryAutoPlay()}},{key:"componentWillReceiveProps",value:function(e){e.page.loading?this.removePlayerFromPage():e.placeholderInfo.watched&&e.placeholderInfo.id!==this.props.placeholderInfo.id&&(this.setState({endCardState:!0}),this.props.setVideoRecommendationState({videoRecommendation:!0}),this.props.setVideoEndCardState({fetchVideoRecommendation:!0}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.videoData,o=t.dataId,n=t.inlineVideoComponent,i=t.placeholderInfo,r=t.idOfVideoInPlayer,A=t.videoPlayerIsVisible,s=t.isRelatedVideo,c=t.recommendedVideo,l=t.styles,d=t.hideByline,u=t.formattedTimeStamp,p=t.endCard,m=t.isPro,h=t.isProContent,f=t.queryParams;if(!a||!a.playerConfig)return I.a.createElement(P.a,{data:{error:"PlaceHolder query came back as null"},errorSource:"PlaceHolder",errorProps:this.props});var E=f||{},y=E.ispro,v=E.$DEVICE$,b=["native-android-mobile","native-android-tablet"].includes(v),N=["mobile-native","native-tablet"].includes(v),C=m||N&&"true"===y,R=(a.premium||a.isPro)&&!C&&!b,O=l.inactive,S=this.props.brand===_.b,k=""!==p?p:this.props.attributes.endCard;i.placeholderState===L.placeholderStates.END_CARD&&this.state.endCardState&&(O=l.active);var T=A&&r===a.id,M=i.placeholderState===L.placeholderStates.END_CARD&&this.isActivePlaceholder(this.props);if(M&&(this.endCardHasBeenDisplayed=!0),this.isMobileWebview){var w=this.props.videoData,B=w.url,x=w.type,j=w.id,U=w.vcpsId;return R?I.a.createElement("div",{className:W.a.webview}):I.a.createElement("div",{"data-test":Q},I.a.createElement(D.b,{to:B,assetType:x,pageID:j,vcpsId:U},I.a.createElement(g.a,{recommendedVideo:c,featuredMediaFlag:this.props.featuredMediaFlag,videoData:a,brand:this.props.brand||this.props.videoData.brand,videoIsPlayingOrPaused:T,isRelatedVideo:s,showMetadata:this.props.attributes.showPlayerMetadata,isFeaturedBreakerVideo:this.props.isFeaturedBreakerVideo,inlineVideoFooterClassName:this.props.inlineVideoFooterClassName,inlineVideoTitleClassName:this.props.inlineVideoTitleClassName,playButtonClassName:this.props.playButtonClassName,playButtonIconClassName:this.props.playButtonIconClassName})))}if(n)return I.a.createElement("div",{role:"button",tabIndex:"0",id:"Placeholder-".concat(o),onClick:this.handleClick,className:Object(V.a)({keyValuePairs:[[l.featuredMediaWrapper,this.props.featuredMediaFlag],["vilynx_disabled",M],["vilynx_registered",this.endCardHasBeenDisplayed]]},l.wrapper),"data-vilynx-id":this.props.videoData.vcpsId,"data-test":Q,"aria-label":function(){return G(e.props.playback)}},I.a.createElement(g.a,{recommendedVideo:c,featuredMediaFlag:this.props.featuredMediaFlag,videoData:a,brand:this.props.brand||this.props.videoData.brand,videoIsPlayingOrPaused:T,isRelatedVideo:s,showMetadata:this.props.attributes.showPlayerMetadata,isFeaturedBreakerVideo:this.props.isFeaturedBreakerVideo,inlineVideoFooterClassName:this.props.inlineVideoFooterClassName,inlineVideoTitleClassName:this.props.inlineVideoTitleClassName,playButtonClassName:this.props.playButtonClassName,playButtonIconClassName:this.props.playButtonIconClassName,showProVideoGate:R}),"NONE"!==k&&S&&I.a.createElement("div",{className:"".concat(l.endCard," ").concat(O)},this.state.endCardState&&S&&I.a.createElement(F.a,{currentVideoData:this.props.videoData,placeholderId:"Placeholder-".concat(o),inlineVideoComponent:!0,dark:this.props.dark})));var q={cnbc:"video"};return I.a.createElement("div",{role:"button",tabIndex:"0",id:"Placeholder-".concat(o),onClick:this.handleClick,"data-vilynx-id":this.props.videoData.vcpsId,className:Object(V.a)({keyValuePairs:[["vilynx_disabled",M],["vilynx_registered",this.endCardHasBeenDisplayed]]},l.wrapper),"data-test":Q,"aria-label":function(){return G(e.props.playback)}},I.a.createElement(H,{video:a,title:a.title,isPro:a.isPro||h,isLive:a.isLive||this.props.isLive,image:"".concat(a.thumbnail||a.image,"&vtcrop=y"),byline:a.byline,timestamp:a.date,dark:this.props.dark,isPackage:a.isPackage||this.props.isPackage,cardType:this.props.cardType,packageTitle:a.packageTitle||this.props.packageTitle,playlistCount:a.playlistCount||this.props.playlistCount,videoTime:a.videoTime||a.duration,videoIsPlayingOrPaused:T,brand:this.props.brand||a.brand,mediaType:q[this.props.brand]||q[a.brand]||"video",url:a.url,sponsoredLogo:a.sponsoredLogo||this.props.sponsoredLogo,sponsorLink:a.sponsorLink||this.props.sponsorLink,dataId:o,inlineVideoPlayback:this.props.inlineVideoPlayback,isSlideshow:this.props.isSlideshow,hero:this.props.hero,hideByline:d,formattedTimeStamp:u,sectionLayout:this.props.sectionLayout,showProVideoGate:R}),"NONE"!==k&&S&&I.a.createElement("div",{className:"".concat(l.endCard," ").concat(O)},this.state.endCardState&&S&&I.a.createElement(F.a,{currentVideoData:this.props.videoData,dark:this.props.dark})))}}]),a}(v.Component);function Y(e){return{placeholderInfo:e.placeholderInfo,navStatus:e.navStatus,page:e.page,idOfVideoInPlayer:Object(T.a)(e.videoDataWithPosition.data)?null:e.videoDataWithPosition.data.id,videoPlayerIsVisible:!e.videoPlayerInfo||e.videoPlayerInfo.layout!==L.playerLayoutStates.HIDDEN,playback:e.videoPlayerInfo.playback}}y()(z,"contextType",O.a),z.propTypes={getVideoDataWithPosition:C.a.func,videoData:C.a.object,dataId:C.a.oneOfType([C.a.string,C.a.number]),isLive:C.a.bool.isRequired,isPro:C.a.bool.isRequired,isProContent:C.a.bool,isRelatedVideo:C.a.bool,isPackage:C.a.bool,cardType:C.a.string.isRequired,packageTitle:C.a.string,playlistCount:C.a.string,brand:C.a.string,dark:C.a.bool,sponsoredLogo:C.a.string,sponsorLink:C.a.string,inlineVideoPlayback:C.a.bool,isSlideshow:C.a.bool,inlineVideoComponent:C.a.bool,placeholderInfo:C.a.object,getVideoIsPreloader:C.a.func,setPlaceholderState:C.a.func,setVideoRecommendationState:C.a.func,hero:C.a.bool,setEventsInfo:C.a.func,setVideoEndCardState:C.a.func,setPlayerInfo:C.a.func,setVideoPlayBackInitiative:C.a.func,page:C.a.object,idOfVideoInPlayer:C.a.number,videoPlayerIsVisible:C.a.bool,attributes:C.a.object,featuredMediaFlag:C.a.bool,isFeaturedBreakerVideo:C.a.bool,addVideoNIDs:C.a.func,recommendedVideo:C.a.bool,styles:C.a.object.isRequired,hideByline:C.a.bool,formattedTimeStamp:C.a.string,endCard:C.a.string,inlineVideoFooterClassName:C.a.string,inlineVideoTitleClassName:C.a.string,playButtonClassName:C.a.string,playButtonIconClassName:C.a.string,playback:C.a.bool,queryParams:C.a.object,sectionLayout:C.a.string},z.defaultProps={getVideoDataWithPosition:null,data:{},videoData:{},dataId:0,title:"",image:"",isLive:!1,isRelatedVideo:!1,isFeaturedBreakerVideo:!1,isPro:!1,isProContent:!1,byline:"",isPackage:!1,cardType:"",packageTitle:"",playlistCount:null,videoTime:"",brand:"cnbc",dark:!1,sponsoredLogo:null,sponsorLink:"",url:"",inlineVideoPlayback:!0,isSlideshow:!1,inlineVideoComponent:!1,placeholderInfo:{},getVideoIsPreloader:null,setPlaceholderState:null,setVideoRecommendationState:null,hero:!1,setEventsInfo:null,setVideoEndCardState:null,setPlayerInfo:function(){},setVideoPlayBackInitiative:function(){},page:{},idOfVideoInPlayer:null,videoPlayerIsVisible:!1,attributes:{endCard:"REC_OR_REPLAY",showPlayerMetadata:!0,autoPlay:!1},featuredMediaFlag:!1,addVideoNIDs:function(){},recommendedVideo:!1,hideByline:!1,formattedTimeStamp:"",endCard:"",inlineVideoFooterClassName:"",inlineVideoTitleClassName:"",playButtonClassName:"",playButtonIconClassName:"",playback:!1,queryParams:{},sectionLayout:_.c.unspecified},t.default=Object(R.b)(Y,L)(Object(k.a)(Object(M.b)(q,Object(S.a)(z))))}.call(this,"/")},864:function(e,t,a){"use strict";(function(e){var o=a(0),n=a.n(o),i=a(1),r=a.n(i),A=a(35),s=a(29),c=a(851),l={};l[s.a]=Object(c.a)({chunkName:"components/shared/PlayButton/styles.acorns.scss",requireAsync:function(){return a.e(221).then(a.t.bind(null,867,7))},requireSync:function e(t){var o=this.resolve(t);return a(o)},resolve:function(){return 867}}),l[s.b]=Object(c.a)({chunkName:"components/shared/PlayButton/styles.cnbc.scss",requireAsync:function(){return a.e(391).then(a.t.bind(null,868,7))},requireSync:function e(t){var o=this.resolve(t);return a(o)},resolve:function(){return 868}}),l[s.d]=Object(c.a)({chunkName:"components/shared/PlayButton/styles.makeit.scss",requireAsync:function(){return a.e(284).then(a.t.bind(null,869,7))},requireSync:function e(t){var o=this.resolve(t);return a(o)},resolve:function(){return 869}});var d=function(e){var t=e.isFeatured,a=e.buttonType,o=e.hero,i=e.brand,r=e.hoverEffect,c=e.suppressFlyout,l=e.hoverInitiated,d=e.sizeVariationOne,u=e.sizeVariationTwo,p=e.sizeVariationThree,m=e.sizeVariationFour,h=e.featuredMediaFlag,f=e.smallVersion,E=e.styles,y=e.playButtonClassName,v=e.playButtonIconClassName,I={cnbc:"icon-play-triangle",play:"icon-play-triangle",playlist:"icon-play-triangle",lock:"icon-lock"},b=E.container;b=o?"".concat(E.hero," ").concat(b):b,b=d?"".concat(E.sizeVariationOne," ").concat(b):b,b=u?"".concat(E.sizeVariationTwo," ").concat(b):b,b=p?"".concat(E.sizeVariationThree," ").concat(b):b,b=m?"".concat(E.sizeVariationFour," ").concat(b):b,b=f?"".concat(E.smallVersion," ").concat(b):b;var N=Object(A.a)({keyValuePairs:[[E.featured,t],[E.base,!t]]},y),C=Object(A.a)({keyValuePairs:[[E.iconHover,l]]},I[a],E.icon,v);return"playlist"===a?n.a.createElement("div",{className:b,"data-test":"PlayButton"},n.a.createElement("div",{className:N,"data-type":a},n.a.createElement("span",{className:E.flyout},"lock"===a?"log in":"watch now"),n.a.createElement("span",{className:"".concat(I[a]," ").concat(E.icon)})),n.a.createElement("div",{className:t?E.featuredPlaylist:E.playlist})):i===s.d?n.a.createElement("span",{className:l?E.playButtonHover:E.playButton,"data-test":"PlayButton"}):n.a.createElement("div",{className:"".concat(b," ").concat(l?E.iconHover:""),"data-test":"PlayButton"},n.a.createElement("div",{className:"".concat(N," ").concat(h?E.featuredMediaPlaybutton:""),"data-type":a},r&&n.a.createElement("span",{className:Object(A.a)({keyValuePairs:[[E.hover,l],[E.suppressFlyout,c]]},E.flyout)},"lock"===a?"log in":"watch now"),n.a.createElement("span",{className:C})))};d.defaultProps={styles:{},isFeatured:!1,buttonType:"play",hero:!1,hoverEffect:!0,suppressFlyout:!1,hoverInitiated:!1,brand:s.b,sizeVariationOne:!1,sizeVariationTwo:!1,sizeVariationThree:!1,sizeVariationFour:!1,featuredMediaFlag:!1,smallVersion:!1,playButtonClassName:"",playButtonIconClassName:""},d.propTypes={styles:r.a.object,isFeatured:r.a.bool,buttonType:r.a.string,hero:r.a.bool,hoverEffect:r.a.bool,suppressFlyout:r.a.bool,hoverInitiated:r.a.bool,brand:r.a.string,sizeVariationOne:r.a.bool,sizeVariationTwo:r.a.bool,sizeVariationThree:r.a.bool,sizeVariationFour:r.a.bool,featuredMediaFlag:r.a.bool,smallVersion:r.a.bool,playButtonClassName:r.a.string,playButtonIconClassName:r.a.string},t.a=Object(c.b)(l,d)}).call(this,"/")},948:function(e,t,a){"use strict";function o(e,t){var a=!t,o=document.getElementById(e);return a?o&&o.querySelectorAll('div[class*="mediaContainer"]')[0]:o}a.d(t,"a",(function(){return o}))},986:function(e,t,a){"use strict";function o(e){return!Object.keys(e||{}).length}a.d(t,"a",(function(){return o}))}}]);
//# sourceMappingURL=../../source-maps/components-Video-UniversalVideoPlayer-PlaceHolder-e3f11afb85f1ecb97aff.js.map